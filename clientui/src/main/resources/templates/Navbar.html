<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity5" lang="fr">
    <div th:fragment="navbar">
        <nav class="navbar navbar-expand-lg bg-light navbar-light fixed-top">
            <ul class="navbar-nav d-flex align-items-center flex-column m-auto">
                <div class="d-lg-flex align-items-lg-center text-center">
                    <li class="nav-item">
                        <a class="navbar-brand" href="/livres">
                            <img src="/img/logo.png" alt="Logo de la bibliothèque" />
                        </a>
                    </li>
                    <li class="nav-item">
                        <h1 class="title-library">Bibliothèque Municipale</h1>
                    </li>
                </div>
                <div class="links-menu d-lg-flex">
                    <li class="nav-item">
                        <a class="nav-link" href="/livres">Accueil</a>
                    </li>
                    <div sec:authorize="!isAuthenticated()">
                        <li class="nav-item">
                            <a class="nav-link" href="/inscription">S'inscrire</a>
                        </li>
                    </div>
                    <div sec:authorize="!isAuthenticated()">
                        <li class="nav-item">
                            <a class="nav-link" href="/login">Se connecter</a>
                        </li>
                    </div>
                    <div sec:authorize="isAuthenticated()">
                        <li class="nav-item">
                            <a class="nav-link" th:href="@{|/prets/${userId}|}">Mes prêts</a>
                        </li>
                    </div>
                    <div sec:authorize="isAuthenticated()">
                        <li class="nav-item">
                            <a class="nav-link" th:href="@{|/reservations_user/${userId}|}">Mes réservations</a>
                        </li>
                    </div>
                    <div sec:authorize="isAuthenticated()">
                        <li class="nav-item">
                            <form th:action="@{/logout}" method="post">
                                <input class="logout-link" type="submit" value="Se déconnecter" />
                            </form>
                        </li>
                    </div>
                </div>
            </ul>
            <div sec:authorize="isAuthenticated()">
                <p>Bonjour <span th:text="${username}"></span></p>
            </div>
        </nav>
    </div>
</html>